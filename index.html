<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí™ FITBOOK - –ó–∞–ø–∏—Å—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
    <meta name="description" content="–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- –ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí™</text></svg>">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-brand">
            <i class="fas fa-dumbbell"></i> FITBOOK
        </div>
        <div class="nav-user">
            <span id="userName">–ì–æ—Å—Ç—å</span>
            <button id="logoutBtn" class="btn-small" style="display:none;">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </nav>
    
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main id="mainContent">
        <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
        <section id="loginScreen" class="screen active">
            <div class="auth-card">
                <div class="app-icon">
                    <i class="fas fa-dumbbell"></i>
                </div>
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                <p class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</p>
                
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="–í–∞—à email" class="form-input">
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" class="form-input">
                </div>
                
                <button id="loginBtn" class="btn-primary">
                    <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                </button>
                <button id="registerBtn" class="btn-secondary">
                    <i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                </button>
                
                <div class="demo-accounts">
                    <h4><i class="fas fa-vial"></i> –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:</h4>
                    <p><strong>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> user@test.com / 123456</p>
                    <p><strong>üë®‚Äçüè´ –¢—Ä–µ–Ω–µ—Ä:</strong> trainer@test.com / 123456</p>
                </div>
            </div>
        </section>
        
        <!-- –≠–∫—Ä–∞–Ω —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
        <section id="scheduleScreen" class="screen">
            <h2><i class="fas fa-calendar-alt"></i> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h2>
            <div id="trainingsList" class="cards-container">
                <!-- –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            <button id="createTrainingBtn" class="btn-float" style="display:none;">
                <i class="fas fa-plus"></i>
            </button>
        </section>
        
        <!-- –≠–∫—Ä–∞–Ω –±–∞–ª–∞–Ω—Å–∞ -->
        <section id="balanceScreen" class="screen">
            <h2><i class="fas fa-wallet"></i> –ú–æ–π –±–∞–ª–∞–Ω—Å</h2>
            <div class="balance-display">
                <div class="balance-amount" id="balanceAmount">0</div>
                <div class="balance-label">–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–ª–ª–æ–≤</div>
            </div>
            <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
            <div id="transactionsList" class="transactions-container">
                <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </section>
        
        <!-- –≠–∫—Ä–∞–Ω —Ç—Ä–µ–Ω–µ—Ä–∞ -->
        <section id="trainerScreen" class="screen">
            <h2><i class="fas fa-user-tie"></i> –ü–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞</h2>
            <div class="trainer-actions">
                <button id="btnCreateTraining" class="action-card">
                    <i class="fas fa-plus-circle"></i>
                    <span>–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</span>
                </button>
                <button id="btnManageUsers" class="action-card">
                    <i class="fas fa-users"></i>
                    <span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</span>
                </button>
                <button id="btnMarkAttendance" class="action-card">
                    <i class="fas fa-check-circle"></i>
                    <span>–û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</span>
                </button>
                <button id="btnAdjustBalance" class="action-card">
                    <i class="fas fa-coins"></i>
                    <span>–ù–∞—á–∏—Å–ª–∏—Ç—å –±–∞–ª–ª—ã</span>
                </button>
            </div>
        </section>
    </main>
    
    <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
    <nav class="bottom-nav" style="display:none;">
        <button class="nav-btn active" data-screen="schedule">
            <i class="fas fa-calendar-alt"></i>
            <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
        </button>
        <button class="nav-btn" data-screen="balance">
            <i class="fas fa-wallet"></i>
            <span>–ë–∞–ª–∞–Ω—Å</span>
        </button>
        <button class="nav-btn" data-screen="trainer" id="trainerNavBtn">
            <i class="fas fa-user-tie"></i>
            <span>–¢—Ä–µ–Ω–µ—Ä</span>
        </button>
    </nav>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="modalOverlay" class="modal-overlay" style="display:none;"></div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ -->
    <div id="trainingModal" class="modal" style="display:none;">
        <h3><i class="fas fa-plus-circle"></i> –ù–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h3>
        <input type="text" id="trainingTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" class="modal-input">
        <input type="datetime-local" id="trainingDate" class="modal-input">
        <input type="number" id="trainingPrice" placeholder="–°—Ç–æ–∏–º–æ—Å—Ç—å (–±–∞–ª–ª–æ–≤)" class="modal-input">
        <input type="number" id="trainingMax" placeholder="–ú–∞–∫—Å–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤" class="modal-input">
        <textarea id="trainingDesc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" class="modal-input"></textarea>
        <button id="saveTrainingBtn" class="btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
        <button id="cancelTrainingBtn" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
    </div>

    <script src="app.js"></script>
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(() => console.log('SW registered'))
                    .catch(err => console.log('SW registration failed:', err));
            });
        }
    </script>
</body>
</html>